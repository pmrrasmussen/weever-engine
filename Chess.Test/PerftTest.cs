using Chess.Builders;
using Xunit.Abstractions;

namespace Chess.Test;

public class PerftTest
{
    private readonly ITestOutputHelper _testOutputHelper;

    public PerftTest(ITestOutputHelper testOutputHelper)
    {
        _testOutputHelper = testOutputHelper;
    }

    [Theory]
    // http://www.rocechess.ch/perft.html
    [InlineData("rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1", 1, 20)]
    [InlineData("rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1", 2, 400)]
    [InlineData("rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1", 3, 8902)]
    [InlineData("rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1", 4, 197281)]
    [InlineData("rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1", 5, 4865609)]
    [InlineData("rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1", 6, 119060324)]
    [InlineData("rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1", 7, 3195901860)]
    [InlineData("r3k2r/p1ppqpb1/bn2pnp1/3PN3/1p2P3/2N2Q1p/PPPBBPPP/R3K2R w KQkq - 0 1", 1, 48)]
    [InlineData("r3k2r/p1ppqpb1/bn2pnp1/3PN3/1p2P3/2N2Q1p/PPPBBPPP/R3K2R w KQkq - 0 1", 2, 2039)]
    [InlineData("r3k2r/p1ppqpb1/bn2pnp1/3PN3/1p2P3/2N2Q1p/PPPBBPPP/R3K2R w KQkq - 0 1", 3, 97862)]
    [InlineData("r3k2r/p1ppqpb1/bn2pnp1/3PN3/1p2P3/2N2Q1p/PPPBBPPP/R3K2R w KQkq - 0 1", 4, 4085603)]
    [InlineData("r3k2r/p1ppqpb1/bn2pnp1/3PN3/1p2P3/2N2Q1p/PPPBBPPP/R3K2R w KQkq - 0 1", 5, 193690690)]
    [InlineData("4k3/8/8/8/8/8/8/4K2R w K - 0 1", 1, 15)]
    [InlineData("4k3/8/8/8/8/8/8/4K2R w K - 0 1", 2, 66)]
    [InlineData("4k3/8/8/8/8/8/8/4K2R w K - 0 1", 3, 1197)]
    [InlineData("4k3/8/8/8/8/8/8/4K2R w K - 0 1", 4, 7059)]
    [InlineData("4k3/8/8/8/8/8/8/4K2R w K - 0 1", 5, 133987)]
    [InlineData("4k3/8/8/8/8/8/8/4K2R w K - 0 1", 6, 764643)]
    [InlineData("4k3/8/8/8/8/8/8/R3K3 w Q - 0 1", 1, 16)]
    [InlineData("4k3/8/8/8/8/8/8/R3K3 w Q - 0 1", 2, 71)]
    [InlineData("4k3/8/8/8/8/8/8/R3K3 w Q - 0 1", 3, 1287)]
    [InlineData("4k3/8/8/8/8/8/8/R3K3 w Q - 0 1", 4, 7626)]
    [InlineData("4k3/8/8/8/8/8/8/R3K3 w Q - 0 1", 5, 145232)]
    [InlineData("4k3/8/8/8/8/8/8/R3K3 w Q - 0 1", 6, 846648)]
    [InlineData("4k2r/8/8/8/8/8/8/4K3 w k - 0 1", 1, 5)]
    [InlineData("4k2r/8/8/8/8/8/8/4K3 w k - 0 1", 2, 75)]
    [InlineData("4k2r/8/8/8/8/8/8/4K3 w k - 0 1", 3, 459)]
    [InlineData("4k2r/8/8/8/8/8/8/4K3 w k - 0 1", 4, 8290)]
    [InlineData("4k2r/8/8/8/8/8/8/4K3 w k - 0 1", 5, 47635)]
    [InlineData("4k2r/8/8/8/8/8/8/4K3 w k - 0 1", 6, 899442)]
    [InlineData("r3k3/8/8/8/8/8/8/4K3 w q - 0 1", 1, 5)]
    [InlineData("r3k3/8/8/8/8/8/8/4K3 w q - 0 1", 2, 80)]
    [InlineData("r3k3/8/8/8/8/8/8/4K3 w q - 0 1", 3, 493)]
    [InlineData("r3k3/8/8/8/8/8/8/4K3 w q - 0 1", 4, 8897)]
    [InlineData("r3k3/8/8/8/8/8/8/4K3 w q - 0 1", 5, 52710)]
    [InlineData("r3k3/8/8/8/8/8/8/4K3 w q - 0 1", 6, 1001523)]
    [InlineData("4k3/8/8/8/8/8/8/R3K2R w KQ - 0 1", 1, 26)]
    [InlineData("4k3/8/8/8/8/8/8/R3K2R w KQ - 0 1", 2, 112)]
    [InlineData("4k3/8/8/8/8/8/8/R3K2R w KQ - 0 1", 3, 3189)]
    [InlineData("4k3/8/8/8/8/8/8/R3K2R w KQ - 0 1", 4, 17945)]
    [InlineData("4k3/8/8/8/8/8/8/R3K2R w KQ - 0 1", 5, 532933)]
    [InlineData("4k3/8/8/8/8/8/8/R3K2R w KQ - 0 1", 6, 2788982)]
    [InlineData("r3k2r/8/8/8/8/8/8/4K3 w kq - 0 1", 1, 5)]
    [InlineData("r3k2r/8/8/8/8/8/8/4K3 w kq - 0 1", 2, 130)]
    [InlineData("r3k2r/8/8/8/8/8/8/4K3 w kq - 0 1", 3, 782)]
    [InlineData("r3k2r/8/8/8/8/8/8/4K3 w kq - 0 1", 4, 22180)]
    [InlineData("r3k2r/8/8/8/8/8/8/4K3 w kq - 0 1", 5, 118882)]
    [InlineData("r3k2r/8/8/8/8/8/8/4K3 w kq - 0 1", 6, 3517770)]
    [InlineData("8/8/8/8/8/8/6k1/4K2R w K - 0 1", 1, 12)]
    [InlineData("8/8/8/8/8/8/6k1/4K2R w K - 0 1", 2, 38)]
    [InlineData("8/8/8/8/8/8/6k1/4K2R w K - 0 1", 3, 564)]
    [InlineData("8/8/8/8/8/8/6k1/4K2R w K - 0 1", 4, 2219)]
    [InlineData("8/8/8/8/8/8/6k1/4K2R w K - 0 1", 5, 37735)]
    [InlineData("8/8/8/8/8/8/6k1/4K2R w K - 0 1", 6, 185867)]
    [InlineData("8/8/8/8/8/8/1k6/R3K3 w Q - 0 1", 1, 15)]
    [InlineData("8/8/8/8/8/8/1k6/R3K3 w Q - 0 1", 2, 65)]
    [InlineData("8/8/8/8/8/8/1k6/R3K3 w Q - 0 1", 3, 1018)]
    [InlineData("8/8/8/8/8/8/1k6/R3K3 w Q - 0 1", 4, 4573)]
    [InlineData("8/8/8/8/8/8/1k6/R3K3 w Q - 0 1", 5, 80619)]
    [InlineData("8/8/8/8/8/8/1k6/R3K3 w Q - 0 1", 6, 413018)]
    [InlineData("4k2r/6K1/8/8/8/8/8/8 w k - 0 1", 1, 3)]
    [InlineData("4k2r/6K1/8/8/8/8/8/8 w k - 0 1", 2, 32)]
    [InlineData("4k2r/6K1/8/8/8/8/8/8 w k - 0 1", 3, 134)]
    [InlineData("4k2r/6K1/8/8/8/8/8/8 w k - 0 1", 4, 2073)]
    [InlineData("4k2r/6K1/8/8/8/8/8/8 w k - 0 1", 5, 10485)]
    [InlineData("4k2r/6K1/8/8/8/8/8/8 w k - 0 1", 6, 179869)]
    [InlineData("r3k3/1K6/8/8/8/8/8/8 w q - 0 1", 1, 4)]
    [InlineData("r3k3/1K6/8/8/8/8/8/8 w q - 0 1", 2, 49)]
    [InlineData("r3k3/1K6/8/8/8/8/8/8 w q - 0 1", 3, 243)]
    [InlineData("r3k3/1K6/8/8/8/8/8/8 w q - 0 1", 4, 3991)]
    [InlineData("r3k3/1K6/8/8/8/8/8/8 w q - 0 1", 5, 20780)]
    [InlineData("r3k3/1K6/8/8/8/8/8/8 w q - 0 1", 6, 367724)]
    [InlineData("r3k2r/8/8/8/8/8/8/R3K2R w KQkq - 0 1", 1, 26)]
    [InlineData("r3k2r/8/8/8/8/8/8/R3K2R w KQkq - 0 1", 2, 568)]
    [InlineData("r3k2r/8/8/8/8/8/8/R3K2R w KQkq - 0 1", 3, 13744)]
    [InlineData("r3k2r/8/8/8/8/8/8/R3K2R w KQkq - 0 1", 4, 314346)]
    [InlineData("r3k2r/8/8/8/8/8/8/R3K2R w KQkq - 0 1", 5, 7594526)]
    [InlineData("r3k2r/8/8/8/8/8/8/R3K2R w KQkq - 0 1", 6, 179862938)]
    [InlineData("r3k2r/8/8/8/8/8/8/1R2K2R w Kkq - 0 1", 1, 25)]
    [InlineData("r3k2r/8/8/8/8/8/8/1R2K2R w Kkq - 0 1", 2, 567)]
    [InlineData("r3k2r/8/8/8/8/8/8/1R2K2R w Kkq - 0 1", 3, 14095)]
    [InlineData("r3k2r/8/8/8/8/8/8/1R2K2R w Kkq - 0 1", 4, 328965)]
    [InlineData("r3k2r/8/8/8/8/8/8/1R2K2R w Kkq - 0 1", 5, 8153719)]
    [InlineData("r3k2r/8/8/8/8/8/8/1R2K2R w Kkq - 0 1", 6, 195629489)]
    [InlineData("r3k2r/8/8/8/8/8/8/2R1K2R w Kkq - 0 1", 1, 25)]
    [InlineData("r3k2r/8/8/8/8/8/8/2R1K2R w Kkq - 0 1", 2, 548)]
    [InlineData("r3k2r/8/8/8/8/8/8/2R1K2R w Kkq - 0 1", 3, 13502)]
    [InlineData("r3k2r/8/8/8/8/8/8/2R1K2R w Kkq - 0 1", 4, 312835)]
    [InlineData("r3k2r/8/8/8/8/8/8/2R1K2R w Kkq - 0 1", 5, 7736373)]
    [InlineData("r3k2r/8/8/8/8/8/8/2R1K2R w Kkq - 0 1", 6, 184411439)]
    [InlineData("r3k2r/8/8/8/8/8/8/R3K1R1 w Qkq - 0 1", 1, 25)]
    [InlineData("r3k2r/8/8/8/8/8/8/R3K1R1 w Qkq - 0 1", 2, 547)]
    [InlineData("r3k2r/8/8/8/8/8/8/R3K1R1 w Qkq - 0 1", 3, 13579)]
    [InlineData("r3k2r/8/8/8/8/8/8/R3K1R1 w Qkq - 0 1", 4, 316214)]
    [InlineData("r3k2r/8/8/8/8/8/8/R3K1R1 w Qkq - 0 1", 5, 7878456)]
    [InlineData("r3k2r/8/8/8/8/8/8/R3K1R1 w Qkq - 0 1", 6, 189224276)]
    [InlineData("1r2k2r/8/8/8/8/8/8/R3K2R w KQk - 0 1", 1, 26)]
    [InlineData("1r2k2r/8/8/8/8/8/8/R3K2R w KQk - 0 1", 2, 583)]
    [InlineData("1r2k2r/8/8/8/8/8/8/R3K2R w KQk - 0 1", 3, 14252)]
    [InlineData("1r2k2r/8/8/8/8/8/8/R3K2R w KQk - 0 1", 4, 334705)]
    [InlineData("1r2k2r/8/8/8/8/8/8/R3K2R w KQk - 0 1", 5, 8198901)]
    [InlineData("1r2k2r/8/8/8/8/8/8/R3K2R w KQk - 0 1", 6, 198328929)]
    [InlineData("2r1k2r/8/8/8/8/8/8/R3K2R w KQk - 0 1", 1, 25)]
    [InlineData("2r1k2r/8/8/8/8/8/8/R3K2R w KQk - 0 1", 2, 560)]
    [InlineData("2r1k2r/8/8/8/8/8/8/R3K2R w KQk - 0 1", 3, 13592)]
    [InlineData("2r1k2r/8/8/8/8/8/8/R3K2R w KQk - 0 1", 4, 317324)]
    [InlineData("2r1k2r/8/8/8/8/8/8/R3K2R w KQk - 0 1", 5, 7710115)]
    [InlineData("2r1k2r/8/8/8/8/8/8/R3K2R w KQk - 0 1", 6, 185959088)]
    [InlineData("r3k1r1/8/8/8/8/8/8/R3K2R w KQq - 0 1", 1, 25)]
    [InlineData("r3k1r1/8/8/8/8/8/8/R3K2R w KQq - 0 1", 2, 560)]
    [InlineData("r3k1r1/8/8/8/8/8/8/R3K2R w KQq - 0 1", 3, 13607)]
    [InlineData("r3k1r1/8/8/8/8/8/8/R3K2R w KQq - 0 1", 4, 320792)]
    [InlineData("r3k1r1/8/8/8/8/8/8/R3K2R w KQq - 0 1", 5, 7848606)]
    [InlineData("r3k1r1/8/8/8/8/8/8/R3K2R w KQq - 0 1", 6, 190755813)]
    [InlineData("4k3/8/8/8/8/8/8/4K2R b K - 0 1", 1, 5)]
    [InlineData("4k3/8/8/8/8/8/8/4K2R b K - 0 1", 2, 75)]
    [InlineData("4k3/8/8/8/8/8/8/4K2R b K - 0 1", 3, 459)]
    [InlineData("4k3/8/8/8/8/8/8/4K2R b K - 0 1", 4, 8290)]
    [InlineData("4k3/8/8/8/8/8/8/4K2R b K - 0 1", 5, 47635)]
    [InlineData("4k3/8/8/8/8/8/8/4K2R b K - 0 1", 6, 899442)]
    [InlineData("4k3/8/8/8/8/8/8/R3K3 b Q - 0 1", 1, 5)]
    [InlineData("4k3/8/8/8/8/8/8/R3K3 b Q - 0 1", 2, 80)]
    [InlineData("4k3/8/8/8/8/8/8/R3K3 b Q - 0 1", 3, 493)]
    [InlineData("4k3/8/8/8/8/8/8/R3K3 b Q - 0 1", 4, 8897)]
    [InlineData("4k3/8/8/8/8/8/8/R3K3 b Q - 0 1", 5, 52710)]
    [InlineData("4k3/8/8/8/8/8/8/R3K3 b Q - 0 1", 6, 1001523)]
    [InlineData("4k2r/8/8/8/8/8/8/4K3 b k - 0 1", 1, 15)]
    [InlineData("4k2r/8/8/8/8/8/8/4K3 b k - 0 1", 2, 66)]
    [InlineData("4k2r/8/8/8/8/8/8/4K3 b k - 0 1", 3, 1197)]
    [InlineData("4k2r/8/8/8/8/8/8/4K3 b k - 0 1", 4, 7059)]
    [InlineData("4k2r/8/8/8/8/8/8/4K3 b k - 0 1", 5, 133987)]
    [InlineData("4k2r/8/8/8/8/8/8/4K3 b k - 0 1", 6, 764643)]
    [InlineData("r3k3/8/8/8/8/8/8/4K3 b q - 0 1", 1, 16)]
    [InlineData("r3k3/8/8/8/8/8/8/4K3 b q - 0 1", 2, 71)]
    [InlineData("r3k3/8/8/8/8/8/8/4K3 b q - 0 1", 3, 1287)]
    [InlineData("r3k3/8/8/8/8/8/8/4K3 b q - 0 1", 4, 7626)]
    [InlineData("r3k3/8/8/8/8/8/8/4K3 b q - 0 1", 5, 145232)]
    [InlineData("r3k3/8/8/8/8/8/8/4K3 b q - 0 1", 6, 846648)]
    [InlineData("4k3/8/8/8/8/8/8/R3K2R b KQ - 0 1", 1, 5)]
    [InlineData("4k3/8/8/8/8/8/8/R3K2R b KQ - 0 1", 2, 130)]
    [InlineData("4k3/8/8/8/8/8/8/R3K2R b KQ - 0 1", 3, 782)]
    [InlineData("4k3/8/8/8/8/8/8/R3K2R b KQ - 0 1", 4, 22180)]
    [InlineData("4k3/8/8/8/8/8/8/R3K2R b KQ - 0 1", 5, 118882)]
    [InlineData("4k3/8/8/8/8/8/8/R3K2R b KQ - 0 1", 6, 3517770)]
    [InlineData("r3k2r/8/8/8/8/8/8/4K3 b kq - 0 1", 1, 26)]
    [InlineData("r3k2r/8/8/8/8/8/8/4K3 b kq - 0 1", 2, 112)]
    [InlineData("r3k2r/8/8/8/8/8/8/4K3 b kq - 0 1", 3, 3189)]
    [InlineData("r3k2r/8/8/8/8/8/8/4K3 b kq - 0 1", 4, 17945)]
    [InlineData("r3k2r/8/8/8/8/8/8/4K3 b kq - 0 1", 5, 532933)]
    [InlineData("r3k2r/8/8/8/8/8/8/4K3 b kq - 0 1", 6, 2788982)]
    [InlineData("8/8/8/8/8/8/6k1/4K2R b K - 0 1", 1, 3)]
    [InlineData("8/8/8/8/8/8/6k1/4K2R b K - 0 1", 2, 32)]
    [InlineData("8/8/8/8/8/8/6k1/4K2R b K - 0 1", 3, 134)]
    [InlineData("8/8/8/8/8/8/6k1/4K2R b K - 0 1", 4, 2073)]
    [InlineData("8/8/8/8/8/8/6k1/4K2R b K - 0 1", 5, 10485)]
    [InlineData("8/8/8/8/8/8/6k1/4K2R b K - 0 1", 6, 179869)]
    [InlineData("8/8/8/8/8/8/1k6/R3K3 b Q - 0 1", 1, 4)]
    [InlineData("8/8/8/8/8/8/1k6/R3K3 b Q - 0 1", 2, 49)]
    [InlineData("8/8/8/8/8/8/1k6/R3K3 b Q - 0 1", 3, 243)]
    [InlineData("8/8/8/8/8/8/1k6/R3K3 b Q - 0 1", 4, 3991)]
    [InlineData("8/8/8/8/8/8/1k6/R3K3 b Q - 0 1", 5, 20780)]
    [InlineData("8/8/8/8/8/8/1k6/R3K3 b Q - 0 1", 6, 367724)]
    [InlineData("4k2r/6K1/8/8/8/8/8/8 b k - 0 1", 1, 12)]
    [InlineData("4k2r/6K1/8/8/8/8/8/8 b k - 0 1", 2, 38)]
    [InlineData("4k2r/6K1/8/8/8/8/8/8 b k - 0 1", 3, 564)]
    [InlineData("4k2r/6K1/8/8/8/8/8/8 b k - 0 1", 4, 2219)]
    [InlineData("4k2r/6K1/8/8/8/8/8/8 b k - 0 1", 5, 37735)]
    [InlineData("4k2r/6K1/8/8/8/8/8/8 b k - 0 1", 6, 185867)]
    [InlineData("r3k3/1K6/8/8/8/8/8/8 b q - 0 1", 1, 15)]
    [InlineData("r3k3/1K6/8/8/8/8/8/8 b q - 0 1", 2, 65)]
    [InlineData("r3k3/1K6/8/8/8/8/8/8 b q - 0 1", 3, 1018)]
    [InlineData("r3k3/1K6/8/8/8/8/8/8 b q - 0 1", 4, 4573)]
    [InlineData("r3k3/1K6/8/8/8/8/8/8 b q - 0 1", 5, 80619)]
    [InlineData("r3k3/1K6/8/8/8/8/8/8 b q - 0 1", 6, 413018)]
    [InlineData("r3k2r/8/8/8/8/8/8/R3K2R b KQkq - 0 1", 1, 26)]
    [InlineData("r3k2r/8/8/8/8/8/8/R3K2R b KQkq - 0 1", 2, 568)]
    [InlineData("r3k2r/8/8/8/8/8/8/R3K2R b KQkq - 0 1", 3, 13744)]
    [InlineData("r3k2r/8/8/8/8/8/8/R3K2R b KQkq - 0 1", 4, 314346)]
    [InlineData("r3k2r/8/8/8/8/8/8/R3K2R b KQkq - 0 1", 5, 7594526)]
    [InlineData("r3k2r/8/8/8/8/8/8/R3K2R b KQkq - 0 1", 6, 179862938)]
    [InlineData("r3k2r/8/8/8/8/8/8/1R2K2R b Kkq - 0 1", 1, 26)]
    [InlineData("r3k2r/8/8/8/8/8/8/1R2K2R b Kkq - 0 1", 2, 583)]
    [InlineData("r3k2r/8/8/8/8/8/8/1R2K2R b Kkq - 0 1", 3, 14252)]
    [InlineData("r3k2r/8/8/8/8/8/8/1R2K2R b Kkq - 0 1", 4, 334705)]
    [InlineData("r3k2r/8/8/8/8/8/8/1R2K2R b Kkq - 0 1", 5, 8198901)]
    [InlineData("r3k2r/8/8/8/8/8/8/1R2K2R b Kkq - 0 1", 6, 198328929)]
    [InlineData("r3k2r/8/8/8/8/8/8/2R1K2R b Kkq - 0 1", 1, 25)]
    [InlineData("r3k2r/8/8/8/8/8/8/2R1K2R b Kkq - 0 1", 2, 560)]
    [InlineData("r3k2r/8/8/8/8/8/8/2R1K2R b Kkq - 0 1", 3, 13592)]
    [InlineData("r3k2r/8/8/8/8/8/8/2R1K2R b Kkq - 0 1", 4, 317324)]
    [InlineData("r3k2r/8/8/8/8/8/8/2R1K2R b Kkq - 0 1", 5, 7710115)]
    [InlineData("r3k2r/8/8/8/8/8/8/2R1K2R b Kkq - 0 1", 6, 185959088)]
    [InlineData("r3k2r/8/8/8/8/8/8/R3K1R1 b Qkq - 0 1", 1, 25)]
    [InlineData("r3k2r/8/8/8/8/8/8/R3K1R1 b Qkq - 0 1", 2, 560)]
    [InlineData("r3k2r/8/8/8/8/8/8/R3K1R1 b Qkq - 0 1", 3, 13607)]
    [InlineData("r3k2r/8/8/8/8/8/8/R3K1R1 b Qkq - 0 1", 4, 320792)]
    [InlineData("r3k2r/8/8/8/8/8/8/R3K1R1 b Qkq - 0 1", 5, 7848606)]
    [InlineData("r3k2r/8/8/8/8/8/8/R3K1R1 b Qkq - 0 1", 6, 190755813)]
    [InlineData("1r2k2r/8/8/8/8/8/8/R3K2R b KQk - 0 1", 1, 25)]
    [InlineData("1r2k2r/8/8/8/8/8/8/R3K2R b KQk - 0 1", 2, 567)]
    [InlineData("1r2k2r/8/8/8/8/8/8/R3K2R b KQk - 0 1", 3, 14095)]
    [InlineData("1r2k2r/8/8/8/8/8/8/R3K2R b KQk - 0 1", 4, 328965)]
    [InlineData("1r2k2r/8/8/8/8/8/8/R3K2R b KQk - 0 1", 5, 8153719)]
    [InlineData("1r2k2r/8/8/8/8/8/8/R3K2R b KQk - 0 1", 6, 195629489)]
    [InlineData("2r1k2r/8/8/8/8/8/8/R3K2R b KQk - 0 1", 1, 25)]
    [InlineData("2r1k2r/8/8/8/8/8/8/R3K2R b KQk - 0 1", 2, 548)]
    [InlineData("2r1k2r/8/8/8/8/8/8/R3K2R b KQk - 0 1", 3, 13502)]
    [InlineData("2r1k2r/8/8/8/8/8/8/R3K2R b KQk - 0 1", 4, 312835)]
    [InlineData("2r1k2r/8/8/8/8/8/8/R3K2R b KQk - 0 1", 5, 7736373)]
    [InlineData("2r1k2r/8/8/8/8/8/8/R3K2R b KQk - 0 1", 6, 184411439)]
    [InlineData("r3k1r1/8/8/8/8/8/8/R3K2R b KQq - 0 1", 1, 25)]
    [InlineData("r3k1r1/8/8/8/8/8/8/R3K2R b KQq - 0 1", 2, 547)]
    [InlineData("r3k1r1/8/8/8/8/8/8/R3K2R b KQq - 0 1", 3, 13579)]
    [InlineData("r3k1r1/8/8/8/8/8/8/R3K2R b KQq - 0 1", 4, 316214)]
    [InlineData("r3k1r1/8/8/8/8/8/8/R3K2R b KQq - 0 1", 5, 7878456)]
    [InlineData("r3k1r1/8/8/8/8/8/8/R3K2R b KQq - 0 1", 6, 189224276)]
    [InlineData("8/1n4N1/2k5/8/8/5K2/1N4n1/8 w - - 0 1", 1, 14)]
    [InlineData("8/1n4N1/2k5/8/8/5K2/1N4n1/8 w - - 0 1", 2, 195)]
    [InlineData("8/1n4N1/2k5/8/8/5K2/1N4n1/8 w - - 0 1", 3, 2760)]
    [InlineData("8/1n4N1/2k5/8/8/5K2/1N4n1/8 w - - 0 1", 4, 38675)]
    [InlineData("8/1n4N1/2k5/8/8/5K2/1N4n1/8 w - - 0 1", 5, 570726)]
    [InlineData("8/1n4N1/2k5/8/8/5K2/1N4n1/8 w - - 0 1", 6, 8107539)]
    [InlineData("8/1k6/8/5N2/8/4n3/8/2K5 w - - 0 1", 1, 11)]
    [InlineData("8/1k6/8/5N2/8/4n3/8/2K5 w - - 0 1", 2, 156)]
    [InlineData("8/1k6/8/5N2/8/4n3/8/2K5 w - - 0 1", 3, 1636)]
    [InlineData("8/1k6/8/5N2/8/4n3/8/2K5 w - - 0 1", 4, 20534)]
    [InlineData("8/1k6/8/5N2/8/4n3/8/2K5 w - - 0 1", 5, 223507)]
    [InlineData("8/1k6/8/5N2/8/4n3/8/2K5 w - - 0 1", 6, 2594412)]
    [InlineData("8/8/4k3/3Nn3/3nN3/4K3/8/8 w - - 0 1", 1, 19)]
    [InlineData("8/8/4k3/3Nn3/3nN3/4K3/8/8 w - - 0 1", 2, 289)]
    [InlineData("8/8/4k3/3Nn3/3nN3/4K3/8/8 w - - 0 1", 3, 4442)]
    [InlineData("8/8/4k3/3Nn3/3nN3/4K3/8/8 w - - 0 1", 4, 73584)]
    [InlineData("8/8/4k3/3Nn3/3nN3/4K3/8/8 w - - 0 1", 5, 1198299)]
    [InlineData("8/8/4k3/3Nn3/3nN3/4K3/8/8 w - - 0 1", 6, 19870403)]
    [InlineData("K7/8/2n5/1n6/8/8/8/k6N w - - 0 1", 1, 3)]
    [InlineData("K7/8/2n5/1n6/8/8/8/k6N w - - 0 1", 2, 51)]
    [InlineData("K7/8/2n5/1n6/8/8/8/k6N w - - 0 1", 3, 345)]
    [InlineData("K7/8/2n5/1n6/8/8/8/k6N w - - 0 1", 4, 5301)]
    [InlineData("K7/8/2n5/1n6/8/8/8/k6N w - - 0 1", 5, 38348)]
    [InlineData("K7/8/2n5/1n6/8/8/8/k6N w - - 0 1", 6, 588695)]
    [InlineData("k7/8/2N5/1N6/8/8/8/K6n w - - 0 1", 1, 17)]
    [InlineData("k7/8/2N5/1N6/8/8/8/K6n w - - 0 1", 2, 54)]
    [InlineData("k7/8/2N5/1N6/8/8/8/K6n w - - 0 1", 3, 835)]
    [InlineData("k7/8/2N5/1N6/8/8/8/K6n w - - 0 1", 4, 5910)]
    [InlineData("k7/8/2N5/1N6/8/8/8/K6n w - - 0 1", 5, 92250)]
    [InlineData("k7/8/2N5/1N6/8/8/8/K6n w - - 0 1", 6, 688780)]
    [InlineData("8/1n4N1/2k5/8/8/5K2/1N4n1/8 b - - 0 1", 1, 15)]
    [InlineData("8/1n4N1/2k5/8/8/5K2/1N4n1/8 b - - 0 1", 2, 193)]
    [InlineData("8/1n4N1/2k5/8/8/5K2/1N4n1/8 b - - 0 1", 3, 2816)]
    [InlineData("8/1n4N1/2k5/8/8/5K2/1N4n1/8 b - - 0 1", 4, 40039)]
    [InlineData("8/1n4N1/2k5/8/8/5K2/1N4n1/8 b - - 0 1", 5, 582642)]
    [InlineData("8/1n4N1/2k5/8/8/5K2/1N4n1/8 b - - 0 1", 6, 8503277)]
    [InlineData("8/1k6/8/5N2/8/4n3/8/2K5 b - - 0 1", 1, 16)]
    [InlineData("8/1k6/8/5N2/8/4n3/8/2K5 b - - 0 1", 2, 180)]
    [InlineData("8/1k6/8/5N2/8/4n3/8/2K5 b - - 0 1", 3, 2290)]
    [InlineData("8/1k6/8/5N2/8/4n3/8/2K5 b - - 0 1", 4, 24640)]
    [InlineData("8/1k6/8/5N2/8/4n3/8/2K5 b - - 0 1", 5, 288141)]
    [InlineData("8/1k6/8/5N2/8/4n3/8/2K5 b - - 0 1", 6, 3147566)]
    [InlineData("8/8/3K4/3Nn3/3nN3/4k3/8/8 b - - 0 1", 1, 4)]
    [InlineData("8/8/3K4/3Nn3/3nN3/4k3/8/8 b - - 0 1", 2, 68)]
    [InlineData("8/8/3K4/3Nn3/3nN3/4k3/8/8 b - - 0 1", 3, 1118)]
    [InlineData("8/8/3K4/3Nn3/3nN3/4k3/8/8 b - - 0 1", 4, 16199)]
    [InlineData("8/8/3K4/3Nn3/3nN3/4k3/8/8 b - - 0 1", 5, 281190)]
    [InlineData("8/8/3K4/3Nn3/3nN3/4k3/8/8 b - - 0 1", 6, 4405103)]
    [InlineData("K7/8/2n5/1n6/8/8/8/k6N b - - 0 1", 1, 17)]
    [InlineData("K7/8/2n5/1n6/8/8/8/k6N b - - 0 1", 2, 54)]
    [InlineData("K7/8/2n5/1n6/8/8/8/k6N b - - 0 1", 3, 835)]
    [InlineData("K7/8/2n5/1n6/8/8/8/k6N b - - 0 1", 4, 5910)]
    [InlineData("K7/8/2n5/1n6/8/8/8/k6N b - - 0 1", 5, 92250)]
    [InlineData("K7/8/2n5/1n6/8/8/8/k6N b - - 0 1", 6, 688780)]
    [InlineData("k7/8/2N5/1N6/8/8/8/K6n b - - 0 1", 1, 3)]
    [InlineData("k7/8/2N5/1N6/8/8/8/K6n b - - 0 1", 2, 51)]
    [InlineData("k7/8/2N5/1N6/8/8/8/K6n b - - 0 1", 3, 345)]
    [InlineData("k7/8/2N5/1N6/8/8/8/K6n b - - 0 1", 4, 5301)]
    [InlineData("k7/8/2N5/1N6/8/8/8/K6n b - - 0 1", 5, 38348)]
    [InlineData("k7/8/2N5/1N6/8/8/8/K6n b - - 0 1", 6, 588695)]
    [InlineData("B6b/8/8/8/2K5/4k3/8/b6B w - - 0 1", 1, 17)]
    [InlineData("B6b/8/8/8/2K5/4k3/8/b6B w - - 0 1", 2, 278)]
    [InlineData("B6b/8/8/8/2K5/4k3/8/b6B w - - 0 1", 3, 4607)]
    [InlineData("B6b/8/8/8/2K5/4k3/8/b6B w - - 0 1", 4, 76778)]
    [InlineData("B6b/8/8/8/2K5/4k3/8/b6B w - - 0 1", 5, 1320507)]
    [InlineData("B6b/8/8/8/2K5/4k3/8/b6B w - - 0 1", 6, 22823890)]
    [InlineData("8/8/1B6/7b/7k/8/2B1b3/7K w - - 0 1", 1, 21)]
    [InlineData("8/8/1B6/7b/7k/8/2B1b3/7K w - - 0 1", 2, 316)]
    [InlineData("8/8/1B6/7b/7k/8/2B1b3/7K w - - 0 1", 3, 5744)]
    [InlineData("8/8/1B6/7b/7k/8/2B1b3/7K w - - 0 1", 4, 93338)]
    [InlineData("8/8/1B6/7b/7k/8/2B1b3/7K w - - 0 1", 5, 1713368)]
    [InlineData("8/8/1B6/7b/7k/8/2B1b3/7K w - - 0 1", 6, 28861171)]
    [InlineData("k7/B7/1B6/1B6/8/8/8/K6b w - - 0 1", 1, 21)]
    [InlineData("k7/B7/1B6/1B6/8/8/8/K6b w - - 0 1", 2, 144)]
    [InlineData("k7/B7/1B6/1B6/8/8/8/K6b w - - 0 1", 3, 3242)]
    [InlineData("k7/B7/1B6/1B6/8/8/8/K6b w - - 0 1", 4, 32955)]
    [InlineData("k7/B7/1B6/1B6/8/8/8/K6b w - - 0 1", 5, 787524)]
    [InlineData("k7/B7/1B6/1B6/8/8/8/K6b w - - 0 1", 6, 7881673)]
    [InlineData("K7/b7/1b6/1b6/8/8/8/k6B w - - 0 1", 1, 7)]
    [InlineData("K7/b7/1b6/1b6/8/8/8/k6B w - - 0 1", 2, 143)]
    [InlineData("K7/b7/1b6/1b6/8/8/8/k6B w - - 0 1", 3, 1416)]
    [InlineData("K7/b7/1b6/1b6/8/8/8/k6B w - - 0 1", 4, 31787)]
    [InlineData("K7/b7/1b6/1b6/8/8/8/k6B w - - 0 1", 5, 310862)]
    [InlineData("K7/b7/1b6/1b6/8/8/8/k6B w - - 0 1", 6, 7382896)]
    [InlineData("B6b/8/8/8/2K5/5k2/8/b6B b - - 0 1", 1, 6)]
    [InlineData("B6b/8/8/8/2K5/5k2/8/b6B b - - 0 1", 2, 106)]
    [InlineData("B6b/8/8/8/2K5/5k2/8/b6B b - - 0 1", 3, 1829)]
    [InlineData("B6b/8/8/8/2K5/5k2/8/b6B b - - 0 1", 4, 31151)]
    [InlineData("B6b/8/8/8/2K5/5k2/8/b6B b - - 0 1", 5, 530585)]
    [InlineData("B6b/8/8/8/2K5/5k2/8/b6B b - - 0 1", 6, 9250746)]
    [InlineData("8/8/1B6/7b/7k/8/2B1b3/7K b - - 0 1", 1, 17)]
    [InlineData("8/8/1B6/7b/7k/8/2B1b3/7K b - - 0 1", 2, 309)]
    [InlineData("8/8/1B6/7b/7k/8/2B1b3/7K b - - 0 1", 3, 5133)]
    [InlineData("8/8/1B6/7b/7k/8/2B1b3/7K b - - 0 1", 4, 93603)]
    [InlineData("8/8/1B6/7b/7k/8/2B1b3/7K b - - 0 1", 5, 1591064)]
    [InlineData("8/8/1B6/7b/7k/8/2B1b3/7K b - - 0 1", 6, 29027891)]
    [InlineData("k7/B7/1B6/1B6/8/8/8/K6b b - - 0 1", 1, 7)]
    [InlineData("k7/B7/1B6/1B6/8/8/8/K6b b - - 0 1", 2, 143)]
    [InlineData("k7/B7/1B6/1B6/8/8/8/K6b b - - 0 1", 3, 1416)]
    [InlineData("k7/B7/1B6/1B6/8/8/8/K6b b - - 0 1", 4, 31787)]
    [InlineData("k7/B7/1B6/1B6/8/8/8/K6b b - - 0 1", 5, 310862)]
    [InlineData("k7/B7/1B6/1B6/8/8/8/K6b b - - 0 1", 6, 7382896)]
    [InlineData("K7/b7/1b6/1b6/8/8/8/k6B b - - 0 1", 1, 21)]
    [InlineData("K7/b7/1b6/1b6/8/8/8/k6B b - - 0 1", 2, 144)]
    [InlineData("K7/b7/1b6/1b6/8/8/8/k6B b - - 0 1", 3, 3242)]
    [InlineData("K7/b7/1b6/1b6/8/8/8/k6B b - - 0 1", 4, 32955)]
    [InlineData("K7/b7/1b6/1b6/8/8/8/k6B b - - 0 1", 5, 787524)]
    [InlineData("K7/b7/1b6/1b6/8/8/8/k6B b - - 0 1", 6, 7881673)]
    [InlineData("7k/RR6/8/8/8/8/rr6/7K w - - 0 1", 1, 19)]
    [InlineData("7k/RR6/8/8/8/8/rr6/7K w - - 0 1", 2, 275)]
    [InlineData("7k/RR6/8/8/8/8/rr6/7K w - - 0 1", 3, 5300)]
    [InlineData("7k/RR6/8/8/8/8/rr6/7K w - - 0 1", 4, 104342)]
    [InlineData("7k/RR6/8/8/8/8/rr6/7K w - - 0 1", 5, 2161211)]
    [InlineData("7k/RR6/8/8/8/8/rr6/7K w - - 0 1", 6, 44956585)]
    [InlineData("R6r/8/8/2K5/5k2/8/8/r6R w - - 0 1", 1, 36)]
    [InlineData("R6r/8/8/2K5/5k2/8/8/r6R w - - 0 1", 2, 1027)]
    [InlineData("R6r/8/8/2K5/5k2/8/8/r6R w - - 0 1", 3, 29215)]
    [InlineData("R6r/8/8/2K5/5k2/8/8/r6R w - - 0 1", 4, 771461)]
    [InlineData("R6r/8/8/2K5/5k2/8/8/r6R w - - 0 1", 5, 20506480)]
    [InlineData("R6r/8/8/2K5/5k2/8/8/r6R w - - 0 1", 6, 525169084)]
    [InlineData("7k/RR6/8/8/8/8/rr6/7K b - - 0 1", 1, 19)]
    [InlineData("7k/RR6/8/8/8/8/rr6/7K b - - 0 1", 2, 275)]
    [InlineData("7k/RR6/8/8/8/8/rr6/7K b - - 0 1", 3, 5300)]
    [InlineData("7k/RR6/8/8/8/8/rr6/7K b - - 0 1", 4, 104342)]
    [InlineData("7k/RR6/8/8/8/8/rr6/7K b - - 0 1", 5, 2161211)]
    [InlineData("7k/RR6/8/8/8/8/rr6/7K b - - 0 1", 6, 44956585)]
    [InlineData("R6r/8/8/2K5/5k2/8/8/r6R b - - 0 1", 1, 36)]
    [InlineData("R6r/8/8/2K5/5k2/8/8/r6R b - - 0 1", 2, 1027)]
    [InlineData("R6r/8/8/2K5/5k2/8/8/r6R b - - 0 1", 3, 29227)]
    [InlineData("R6r/8/8/2K5/5k2/8/8/r6R b - - 0 1", 4, 771368)]
    [InlineData("R6r/8/8/2K5/5k2/8/8/r6R b - - 0 1", 5, 20521342)]
    [InlineData("R6r/8/8/2K5/5k2/8/8/r6R b - - 0 1", 6, 524966748)]
    [InlineData("6kq/8/8/8/8/8/8/7K w - - 0 1", 1, 2)]
    [InlineData("6kq/8/8/8/8/8/8/7K w - - 0 1", 2, 36)]
    [InlineData("6kq/8/8/8/8/8/8/7K w - - 0 1", 3, 143)]
    [InlineData("6kq/8/8/8/8/8/8/7K w - - 0 1", 4, 3637)]
    [InlineData("6kq/8/8/8/8/8/8/7K w - - 0 1", 5, 14893)]
    [InlineData("6kq/8/8/8/8/8/8/7K w - - 0 1", 6, 391507)]
    [InlineData("6KQ/8/8/8/8/8/8/7k b - - 0 1", 1, 2)]
    [InlineData("6KQ/8/8/8/8/8/8/7k b - - 0 1", 2, 36)]
    [InlineData("6KQ/8/8/8/8/8/8/7k b - - 0 1", 3, 143)]
    [InlineData("6KQ/8/8/8/8/8/8/7k b - - 0 1", 4, 3637)]
    [InlineData("6KQ/8/8/8/8/8/8/7k b - - 0 1", 5, 14893)]
    [InlineData("6KQ/8/8/8/8/8/8/7k b - - 0 1", 6, 391507)]
    [InlineData("K7/8/8/3Q4/4q3/8/8/7k w - - 0 1", 1, 6)]
    [InlineData("K7/8/8/3Q4/4q3/8/8/7k w - - 0 1", 2, 35)]
    [InlineData("K7/8/8/3Q4/4q3/8/8/7k w - - 0 1", 3, 495)]
    [InlineData("K7/8/8/3Q4/4q3/8/8/7k w - - 0 1", 4, 8349)]
    [InlineData("K7/8/8/3Q4/4q3/8/8/7k w - - 0 1", 5, 166741)]
    [InlineData("K7/8/8/3Q4/4q3/8/8/7k w - - 0 1", 6, 3370175)]
    [InlineData("6qk/8/8/8/8/8/8/7K b - - 0 1", 1, 22)]
    [InlineData("6qk/8/8/8/8/8/8/7K b - - 0 1", 2, 43)]
    [InlineData("6qk/8/8/8/8/8/8/7K b - - 0 1", 3, 1015)]
    [InlineData("6qk/8/8/8/8/8/8/7K b - - 0 1", 4, 4167)]
    [InlineData("6qk/8/8/8/8/8/8/7K b - - 0 1", 5, 105749)]
    [InlineData("6qk/8/8/8/8/8/8/7K b - - 0 1", 6, 419369)]
    [InlineData("K7/8/8/3Q4/4q3/8/8/7k b - - 0 1", 1, 6)]
    [InlineData("K7/8/8/3Q4/4q3/8/8/7k b - - 0 1", 2, 35)]
    [InlineData("K7/8/8/3Q4/4q3/8/8/7k b - - 0 1", 3, 495)]
    [InlineData("K7/8/8/3Q4/4q3/8/8/7k b - - 0 1", 4, 8349)]
    [InlineData("K7/8/8/3Q4/4q3/8/8/7k b - - 0 1", 5, 166741)]
    [InlineData("K7/8/8/3Q4/4q3/8/8/7k b - - 0 1", 6, 3370175)]
    [InlineData("8/8/8/8/8/K7/P7/k7 w - - 0 1", 1, 3)]
    [InlineData("8/8/8/8/8/K7/P7/k7 w - - 0 1", 2, 7)]
    [InlineData("8/8/8/8/8/K7/P7/k7 w - - 0 1", 3, 43)]
    [InlineData("8/8/8/8/8/K7/P7/k7 w - - 0 1", 4, 199)]
    [InlineData("8/8/8/8/8/K7/P7/k7 w - - 0 1", 5, 1347)]
    [InlineData("8/8/8/8/8/K7/P7/k7 w - - 0 1", 6, 6249)]
    [InlineData("8/8/8/8/8/7K/7P/7k w - - 0 1", 1, 3)]
    [InlineData("8/8/8/8/8/7K/7P/7k w - - 0 1", 2, 7)]
    [InlineData("8/8/8/8/8/7K/7P/7k w - - 0 1", 3, 43)]
    [InlineData("8/8/8/8/8/7K/7P/7k w - - 0 1", 4, 199)]
    [InlineData("8/8/8/8/8/7K/7P/7k w - - 0 1", 5, 1347)]
    [InlineData("8/8/8/8/8/7K/7P/7k w - - 0 1", 6, 6249)]
    [InlineData("K7/p7/k7/8/8/8/8/8 w - - 0 1", 1, 1)]
    [InlineData("K7/p7/k7/8/8/8/8/8 w - - 0 1", 2, 3)]
    [InlineData("K7/p7/k7/8/8/8/8/8 w - - 0 1", 3, 12)]
    [InlineData("K7/p7/k7/8/8/8/8/8 w - - 0 1", 4, 80)]
    [InlineData("K7/p7/k7/8/8/8/8/8 w - - 0 1", 5, 342)]
    [InlineData("K7/p7/k7/8/8/8/8/8 w - - 0 1", 6, 2343)]
    [InlineData("7K/7p/7k/8/8/8/8/8 w - - 0 1", 1, 1)]
    [InlineData("7K/7p/7k/8/8/8/8/8 w - - 0 1", 2, 3)]
    [InlineData("7K/7p/7k/8/8/8/8/8 w - - 0 1", 3, 12)]
    [InlineData("7K/7p/7k/8/8/8/8/8 w - - 0 1", 4, 80)]
    [InlineData("7K/7p/7k/8/8/8/8/8 w - - 0 1", 5, 342)]
    [InlineData("7K/7p/7k/8/8/8/8/8 w - - 0 1", 6, 2343)]
    [InlineData("8/2k1p3/3pP3/3P2K1/8/8/8/8 w - - 0 1", 1, 7)]
    [InlineData("8/2k1p3/3pP3/3P2K1/8/8/8/8 w - - 0 1", 2, 35)]
    [InlineData("8/2k1p3/3pP3/3P2K1/8/8/8/8 w - - 0 1", 3, 210)]
    [InlineData("8/2k1p3/3pP3/3P2K1/8/8/8/8 w - - 0 1", 4, 1091)]
    [InlineData("8/2k1p3/3pP3/3P2K1/8/8/8/8 w - - 0 1", 5, 7028)]
    [InlineData("8/2k1p3/3pP3/3P2K1/8/8/8/8 w - - 0 1", 6, 34834)]
    [InlineData("8/8/8/8/8/K7/P7/k7 b - - 0 1", 1, 1)]
    [InlineData("8/8/8/8/8/K7/P7/k7 b - - 0 1", 2, 3)]
    [InlineData("8/8/8/8/8/K7/P7/k7 b - - 0 1", 3, 12)]
    [InlineData("8/8/8/8/8/K7/P7/k7 b - - 0 1", 4, 80)]
    [InlineData("8/8/8/8/8/K7/P7/k7 b - - 0 1", 5, 342)]
    [InlineData("8/8/8/8/8/K7/P7/k7 b - - 0 1", 6, 2343)]
    [InlineData("8/8/8/8/8/7K/7P/7k b - - 0 1", 1, 1)]
    [InlineData("8/8/8/8/8/7K/7P/7k b - - 0 1", 2, 3)]
    [InlineData("8/8/8/8/8/7K/7P/7k b - - 0 1", 3, 12)]
    [InlineData("8/8/8/8/8/7K/7P/7k b - - 0 1", 4, 80)]
    [InlineData("8/8/8/8/8/7K/7P/7k b - - 0 1", 5, 342)]
    [InlineData("8/8/8/8/8/7K/7P/7k b - - 0 1", 6, 2343)]
    [InlineData("K7/p7/k7/8/8/8/8/8 b - - 0 1", 1, 3)]
    [InlineData("K7/p7/k7/8/8/8/8/8 b - - 0 1", 2, 7)]
    [InlineData("K7/p7/k7/8/8/8/8/8 b - - 0 1", 3, 43)]
    [InlineData("K7/p7/k7/8/8/8/8/8 b - - 0 1", 4, 199)]
    [InlineData("K7/p7/k7/8/8/8/8/8 b - - 0 1", 5, 1347)]
    [InlineData("K7/p7/k7/8/8/8/8/8 b - - 0 1", 6, 6249)]
    [InlineData("7K/7p/7k/8/8/8/8/8 b - - 0 1", 1, 3)]
    [InlineData("7K/7p/7k/8/8/8/8/8 b - - 0 1", 2, 7)]
    [InlineData("7K/7p/7k/8/8/8/8/8 b - - 0 1", 3, 43)]
    [InlineData("7K/7p/7k/8/8/8/8/8 b - - 0 1", 4, 199)]
    [InlineData("7K/7p/7k/8/8/8/8/8 b - - 0 1", 5, 1347)]
    [InlineData("7K/7p/7k/8/8/8/8/8 b - - 0 1", 6, 6249)]
    [InlineData("8/2k1p3/3pP3/3P2K1/8/8/8/8 b - - 0 1", 1, 5)]
    [InlineData("8/2k1p3/3pP3/3P2K1/8/8/8/8 b - - 0 1", 2, 35)]
    [InlineData("8/2k1p3/3pP3/3P2K1/8/8/8/8 b - - 0 1", 3, 182)]
    [InlineData("8/2k1p3/3pP3/3P2K1/8/8/8/8 b - - 0 1", 4, 1091)]
    [InlineData("8/2k1p3/3pP3/3P2K1/8/8/8/8 b - - 0 1", 5, 5408)]
    [InlineData("8/2k1p3/3pP3/3P2K1/8/8/8/8 b - - 0 1", 6, 34822)]
    [InlineData("8/8/8/8/8/4k3/4P3/4K3 w - - 0 1", 1, 2)]
    [InlineData("8/8/8/8/8/4k3/4P3/4K3 w - - 0 1", 2, 8)]
    [InlineData("8/8/8/8/8/4k3/4P3/4K3 w - - 0 1", 3, 44)]
    [InlineData("8/8/8/8/8/4k3/4P3/4K3 w - - 0 1", 4, 282)]
    [InlineData("8/8/8/8/8/4k3/4P3/4K3 w - - 0 1", 5, 1814)]
    [InlineData("8/8/8/8/8/4k3/4P3/4K3 w - - 0 1", 6, 11848)]
    [InlineData("4k3/4p3/4K3/8/8/8/8/8 b - - 0 1", 1, 2)]
    [InlineData("4k3/4p3/4K3/8/8/8/8/8 b - - 0 1", 2, 8)]
    [InlineData("4k3/4p3/4K3/8/8/8/8/8 b - - 0 1", 3, 44)]
    [InlineData("4k3/4p3/4K3/8/8/8/8/8 b - - 0 1", 4, 282)]
    [InlineData("4k3/4p3/4K3/8/8/8/8/8 b - - 0 1", 5, 1814)]
    [InlineData("4k3/4p3/4K3/8/8/8/8/8 b - - 0 1", 6, 11848)]
    [InlineData("8/8/7k/7p/7P/7K/8/8 w - - 0 1", 1, 3)]
    [InlineData("8/8/7k/7p/7P/7K/8/8 w - - 0 1", 2, 9)]
    [InlineData("8/8/7k/7p/7P/7K/8/8 w - - 0 1", 3, 57)]
    [InlineData("8/8/7k/7p/7P/7K/8/8 w - - 0 1", 4, 360)]
    [InlineData("8/8/7k/7p/7P/7K/8/8 w - - 0 1", 5, 1969)]
    [InlineData("8/8/7k/7p/7P/7K/8/8 w - - 0 1", 6, 10724)]
    [InlineData("8/8/k7/p7/P7/K7/8/8 w - - 0 1", 1, 3)]
    [InlineData("8/8/k7/p7/P7/K7/8/8 w - - 0 1", 2, 9)]
    [InlineData("8/8/k7/p7/P7/K7/8/8 w - - 0 1", 3, 57)]
    [InlineData("8/8/k7/p7/P7/K7/8/8 w - - 0 1", 4, 360)]
    [InlineData("8/8/k7/p7/P7/K7/8/8 w - - 0 1", 5, 1969)]
    [InlineData("8/8/k7/p7/P7/K7/8/8 w - - 0 1", 6, 10724)]
    [InlineData("8/8/3k4/3p4/3P4/3K4/8/8 w - - 0 1", 1, 5)]
    [InlineData("8/8/3k4/3p4/3P4/3K4/8/8 w - - 0 1", 2, 25)]
    [InlineData("8/8/3k4/3p4/3P4/3K4/8/8 w - - 0 1", 3, 180)]
    [InlineData("8/8/3k4/3p4/3P4/3K4/8/8 w - - 0 1", 4, 1294)]
    [InlineData("8/8/3k4/3p4/3P4/3K4/8/8 w - - 0 1", 5, 8296)]
    [InlineData("8/8/3k4/3p4/3P4/3K4/8/8 w - - 0 1", 6, 53138)]
    [InlineData("8/3k4/3p4/8/3P4/3K4/8/8 w - - 0 1", 1, 8)]
    [InlineData("8/3k4/3p4/8/3P4/3K4/8/8 w - - 0 1", 2, 61)]
    [InlineData("8/3k4/3p4/8/3P4/3K4/8/8 w - - 0 1", 3, 483)]
    [InlineData("8/3k4/3p4/8/3P4/3K4/8/8 w - - 0 1", 4, 3213)]
    [InlineData("8/3k4/3p4/8/3P4/3K4/8/8 w - - 0 1", 5, 23599)]
    [InlineData("8/3k4/3p4/8/3P4/3K4/8/8 w - - 0 1", 6, 157093)]
    [InlineData("8/8/3k4/3p4/8/3P4/3K4/8 w - - 0 1", 1, 8)]
    [InlineData("8/8/3k4/3p4/8/3P4/3K4/8 w - - 0 1", 2, 61)]
    [InlineData("8/8/3k4/3p4/8/3P4/3K4/8 w - - 0 1", 3, 411)]
    [InlineData("8/8/3k4/3p4/8/3P4/3K4/8 w - - 0 1", 4, 3213)]
    [InlineData("8/8/3k4/3p4/8/3P4/3K4/8 w - - 0 1", 5, 21637)]
    [InlineData("8/8/3k4/3p4/8/3P4/3K4/8 w - - 0 1", 6, 158065)]
    [InlineData("k7/8/3p4/8/3P4/8/8/7K w - - 0 1", 1, 4)]
    [InlineData("k7/8/3p4/8/3P4/8/8/7K w - - 0 1", 2, 15)]
    [InlineData("k7/8/3p4/8/3P4/8/8/7K w - - 0 1", 3, 90)]
    [InlineData("k7/8/3p4/8/3P4/8/8/7K w - - 0 1", 4, 534)]
    [InlineData("k7/8/3p4/8/3P4/8/8/7K w - - 0 1", 5, 3450)]
    [InlineData("k7/8/3p4/8/3P4/8/8/7K w - - 0 1", 6, 20960)]
    [InlineData("8/8/7k/7p/7P/7K/8/8 b - - 0 1", 1, 3)]
    [InlineData("8/8/7k/7p/7P/7K/8/8 b - - 0 1", 2, 9)]
    [InlineData("8/8/7k/7p/7P/7K/8/8 b - - 0 1", 3, 57)]
    [InlineData("8/8/7k/7p/7P/7K/8/8 b - - 0 1", 4, 360)]
    [InlineData("8/8/7k/7p/7P/7K/8/8 b - - 0 1", 5, 1969)]
    [InlineData("8/8/7k/7p/7P/7K/8/8 b - - 0 1", 6, 10724)]
    [InlineData("8/8/k7/p7/P7/K7/8/8 b - - 0 1", 1, 3)]
    [InlineData("8/8/k7/p7/P7/K7/8/8 b - - 0 1", 2, 9)]
    [InlineData("8/8/k7/p7/P7/K7/8/8 b - - 0 1", 3, 57)]
    [InlineData("8/8/k7/p7/P7/K7/8/8 b - - 0 1", 4, 360)]
    [InlineData("8/8/k7/p7/P7/K7/8/8 b - - 0 1", 5, 1969)]
    [InlineData("8/8/k7/p7/P7/K7/8/8 b - - 0 1", 6, 10724)]
    [InlineData("8/8/3k4/3p4/3P4/3K4/8/8 b - - 0 1", 1, 5)]
    [InlineData("8/8/3k4/3p4/3P4/3K4/8/8 b - - 0 1", 2, 25)]
    [InlineData("8/8/3k4/3p4/3P4/3K4/8/8 b - - 0 1", 3, 180)]
    [InlineData("8/8/3k4/3p4/3P4/3K4/8/8 b - - 0 1", 4, 1294)]
    [InlineData("8/8/3k4/3p4/3P4/3K4/8/8 b - - 0 1", 5, 8296)]
    [InlineData("8/8/3k4/3p4/3P4/3K4/8/8 b - - 0 1", 6, 53138)]
    [InlineData("8/3k4/3p4/8/3P4/3K4/8/8 b - - 0 1", 1, 8)]
    [InlineData("8/3k4/3p4/8/3P4/3K4/8/8 b - - 0 1", 2, 61)]
    [InlineData("8/3k4/3p4/8/3P4/3K4/8/8 b - - 0 1", 3, 411)]
    [InlineData("8/3k4/3p4/8/3P4/3K4/8/8 b - - 0 1", 4, 3213)]
    [InlineData("8/3k4/3p4/8/3P4/3K4/8/8 b - - 0 1", 5, 21637)]
    [InlineData("8/3k4/3p4/8/3P4/3K4/8/8 b - - 0 1", 6, 158065)]
    [InlineData("8/8/3k4/3p4/8/3P4/3K4/8 b - - 0 1", 1, 8)]
    [InlineData("8/8/3k4/3p4/8/3P4/3K4/8 b - - 0 1", 2, 61)]
    [InlineData("8/8/3k4/3p4/8/3P4/3K4/8 b - - 0 1", 3, 483)]
    [InlineData("8/8/3k4/3p4/8/3P4/3K4/8 b - - 0 1", 4, 3213)]
    [InlineData("8/8/3k4/3p4/8/3P4/3K4/8 b - - 0 1", 5, 23599)]
    [InlineData("8/8/3k4/3p4/8/3P4/3K4/8 b - - 0 1", 6, 157093)]
    [InlineData("k7/8/3p4/8/3P4/8/8/7K b - - 0 1", 1, 4)]
    [InlineData("k7/8/3p4/8/3P4/8/8/7K b - - 0 1", 2, 15)]
    [InlineData("k7/8/3p4/8/3P4/8/8/7K b - - 0 1", 3, 89)]
    [InlineData("k7/8/3p4/8/3P4/8/8/7K b - - 0 1", 4, 537)]
    [InlineData("k7/8/3p4/8/3P4/8/8/7K b - - 0 1", 5, 3309)]
    [InlineData("k7/8/3p4/8/3P4/8/8/7K b - - 0 1", 6, 21104)]
    [InlineData("7k/3p4/8/8/3P4/8/8/K7 w - - 0 1", 1, 4)]
    [InlineData("7k/3p4/8/8/3P4/8/8/K7 w - - 0 1", 2, 19)]
    [InlineData("7k/3p4/8/8/3P4/8/8/K7 w - - 0 1", 3, 117)]
    [InlineData("7k/3p4/8/8/3P4/8/8/K7 w - - 0 1", 4, 720)]
    [InlineData("7k/3p4/8/8/3P4/8/8/K7 w - - 0 1", 5, 4661)]
    [InlineData("7k/3p4/8/8/3P4/8/8/K7 w - - 0 1", 6, 32191)]
    [InlineData("7k/8/8/3p4/8/8/3P4/K7 w - - 0 1", 1, 5)]
    [InlineData("7k/8/8/3p4/8/8/3P4/K7 w - - 0 1", 2, 19)]
    [InlineData("7k/8/8/3p4/8/8/3P4/K7 w - - 0 1", 3, 116)]
    [InlineData("7k/8/8/3p4/8/8/3P4/K7 w - - 0 1", 4, 716)]
    [InlineData("7k/8/8/3p4/8/8/3P4/K7 w - - 0 1", 5, 4786)]
    [InlineData("7k/8/8/3p4/8/8/3P4/K7 w - - 0 1", 6, 30980)]
    [InlineData("k7/8/8/7p/6P1/8/8/K7 w - - 0 1", 1, 5)]
    [InlineData("k7/8/8/7p/6P1/8/8/K7 w - - 0 1", 2, 22)]
    [InlineData("k7/8/8/7p/6P1/8/8/K7 w - - 0 1", 3, 139)]
    [InlineData("k7/8/8/7p/6P1/8/8/K7 w - - 0 1", 4, 877)]
    [InlineData("k7/8/8/7p/6P1/8/8/K7 w - - 0 1", 5, 6112)]
    [InlineData("k7/8/8/7p/6P1/8/8/K7 w - - 0 1", 6, 41874)]
    [InlineData("k7/8/7p/8/8/6P1/8/K7 w - - 0 1", 1, 4)]
    [InlineData("k7/8/7p/8/8/6P1/8/K7 w - - 0 1", 2, 16)]
    [InlineData("k7/8/7p/8/8/6P1/8/K7 w - - 0 1", 3, 101)]
    [InlineData("k7/8/7p/8/8/6P1/8/K7 w - - 0 1", 4, 637)]
    [InlineData("k7/8/7p/8/8/6P1/8/K7 w - - 0 1", 5, 4354)]
    [InlineData("k7/8/7p/8/8/6P1/8/K7 w - - 0 1", 6, 29679)]
    [InlineData("k7/8/8/6p1/7P/8/8/K7 w - - 0 1", 1, 5)]
    [InlineData("k7/8/8/6p1/7P/8/8/K7 w - - 0 1", 2, 22)]
    [InlineData("k7/8/8/6p1/7P/8/8/K7 w - - 0 1", 3, 139)]
    [InlineData("k7/8/8/6p1/7P/8/8/K7 w - - 0 1", 4, 877)]
    [InlineData("k7/8/8/6p1/7P/8/8/K7 w - - 0 1", 5, 6112)]
    [InlineData("k7/8/8/6p1/7P/8/8/K7 w - - 0 1", 6, 41874)]
    [InlineData("k7/8/6p1/8/8/7P/8/K7 w - - 0 1", 1, 4)]
    [InlineData("k7/8/6p1/8/8/7P/8/K7 w - - 0 1", 2, 16)]
    [InlineData("k7/8/6p1/8/8/7P/8/K7 w - - 0 1", 3, 101)]
    [InlineData("k7/8/6p1/8/8/7P/8/K7 w - - 0 1", 4, 637)]
    [InlineData("k7/8/6p1/8/8/7P/8/K7 w - - 0 1", 5, 4354)]
    [InlineData("k7/8/6p1/8/8/7P/8/K7 w - - 0 1", 6, 29679)]
    [InlineData("k7/8/8/3p4/4p3/8/8/7K w - - 0 1", 1, 3)]
    [InlineData("k7/8/8/3p4/4p3/8/8/7K w - - 0 1", 2, 15)]
    [InlineData("k7/8/8/3p4/4p3/8/8/7K w - - 0 1", 3, 84)]
    [InlineData("k7/8/8/3p4/4p3/8/8/7K w - - 0 1", 4, 573)]
    [InlineData("k7/8/8/3p4/4p3/8/8/7K w - - 0 1", 5, 3013)]
    [InlineData("k7/8/8/3p4/4p3/8/8/7K w - - 0 1", 6, 22886)]
    [InlineData("k7/8/3p4/8/8/4P3/8/7K w - - 0 1", 1, 4)]
    [InlineData("k7/8/3p4/8/8/4P3/8/7K w - - 0 1", 2, 16)]
    [InlineData("k7/8/3p4/8/8/4P3/8/7K w - - 0 1", 3, 101)]
    [InlineData("k7/8/3p4/8/8/4P3/8/7K w - - 0 1", 4, 637)]
    [InlineData("k7/8/3p4/8/8/4P3/8/7K w - - 0 1", 5, 4271)]
    [InlineData("k7/8/3p4/8/8/4P3/8/7K w - - 0 1", 6, 28662)]
    [InlineData("7k/3p4/8/8/3P4/8/8/K7 b - - 0 1", 1, 5)]
    [InlineData("7k/3p4/8/8/3P4/8/8/K7 b - - 0 1", 2, 19)]
    [InlineData("7k/3p4/8/8/3P4/8/8/K7 b - - 0 1", 3, 117)]
    [InlineData("7k/3p4/8/8/3P4/8/8/K7 b - - 0 1", 4, 720)]
    [InlineData("7k/3p4/8/8/3P4/8/8/K7 b - - 0 1", 5, 5014)]
    [InlineData("7k/3p4/8/8/3P4/8/8/K7 b - - 0 1", 6, 32167)]
    [InlineData("7k/8/8/3p4/8/8/3P4/K7 b - - 0 1", 1, 4)]
    [InlineData("7k/8/8/3p4/8/8/3P4/K7 b - - 0 1", 2, 19)]
    [InlineData("7k/8/8/3p4/8/8/3P4/K7 b - - 0 1", 3, 117)]
    [InlineData("7k/8/8/3p4/8/8/3P4/K7 b - - 0 1", 4, 712)]
    [InlineData("7k/8/8/3p4/8/8/3P4/K7 b - - 0 1", 5, 4658)]
    [InlineData("7k/8/8/3p4/8/8/3P4/K7 b - - 0 1", 6, 30749)]
    [InlineData("k7/8/8/7p/6P1/8/8/K7 b - - 0 1", 1, 5)]
    [InlineData("k7/8/8/7p/6P1/8/8/K7 b - - 0 1", 2, 22)]
    [InlineData("k7/8/8/7p/6P1/8/8/K7 b - - 0 1", 3, 139)]
    [InlineData("k7/8/8/7p/6P1/8/8/K7 b - - 0 1", 4, 877)]
    [InlineData("k7/8/8/7p/6P1/8/8/K7 b - - 0 1", 5, 6112)]
    [InlineData("k7/8/8/7p/6P1/8/8/K7 b - - 0 1", 6, 41874)]
    [InlineData("k7/8/7p/8/8/6P1/8/K7 b - - 0 1", 1, 4)]
    [InlineData("k7/8/7p/8/8/6P1/8/K7 b - - 0 1", 2, 16)]
    [InlineData("k7/8/7p/8/8/6P1/8/K7 b - - 0 1", 3, 101)]
    [InlineData("k7/8/7p/8/8/6P1/8/K7 b - - 0 1", 4, 637)]
    [InlineData("k7/8/7p/8/8/6P1/8/K7 b - - 0 1", 5, 4354)]
    [InlineData("k7/8/7p/8/8/6P1/8/K7 b - - 0 1", 6, 29679)]
    [InlineData("k7/8/8/6p1/7P/8/8/K7 b - - 0 1", 1, 5)]
    [InlineData("k7/8/8/6p1/7P/8/8/K7 b - - 0 1", 2, 22)]
    [InlineData("k7/8/8/6p1/7P/8/8/K7 b - - 0 1", 3, 139)]
    [InlineData("k7/8/8/6p1/7P/8/8/K7 b - - 0 1", 4, 877)]
    [InlineData("k7/8/8/6p1/7P/8/8/K7 b - - 0 1", 5, 6112)]
    [InlineData("k7/8/8/6p1/7P/8/8/K7 b - - 0 1", 6, 41874)]
    [InlineData("k7/8/6p1/8/8/7P/8/K7 b - - 0 1", 1, 4)]
    [InlineData("k7/8/6p1/8/8/7P/8/K7 b - - 0 1", 2, 16)]
    [InlineData("k7/8/6p1/8/8/7P/8/K7 b - - 0 1", 3, 101)]
    [InlineData("k7/8/6p1/8/8/7P/8/K7 b - - 0 1", 4, 637)]
    [InlineData("k7/8/6p1/8/8/7P/8/K7 b - - 0 1", 5, 4354)]
    [InlineData("k7/8/6p1/8/8/7P/8/K7 b - - 0 1", 6, 29679)]
    [InlineData("k7/8/8/3p4/4p3/8/8/7K b - - 0 1", 1, 5)]
    [InlineData("k7/8/8/3p4/4p3/8/8/7K b - - 0 1", 2, 15)]
    [InlineData("k7/8/8/3p4/4p3/8/8/7K b - - 0 1", 3, 102)]
    [InlineData("k7/8/8/3p4/4p3/8/8/7K b - - 0 1", 4, 569)]
    [InlineData("k7/8/8/3p4/4p3/8/8/7K b - - 0 1", 5, 4337)]
    [InlineData("k7/8/8/3p4/4p3/8/8/7K b - - 0 1", 6, 22579)]
    [InlineData("k7/8/3p4/8/8/4P3/8/7K b - - 0 1", 1, 4)]
    [InlineData("k7/8/3p4/8/8/4P3/8/7K b - - 0 1", 2, 16)]
    [InlineData("k7/8/3p4/8/8/4P3/8/7K b - - 0 1", 3, 101)]
    [InlineData("k7/8/3p4/8/8/4P3/8/7K b - - 0 1", 4, 637)]
    [InlineData("k7/8/3p4/8/8/4P3/8/7K b - - 0 1", 5, 4271)]
    [InlineData("k7/8/3p4/8/8/4P3/8/7K b - - 0 1", 6, 28662)]
    [InlineData("7k/8/8/p7/1P6/8/8/7K w - - 0 1", 1, 5)]
    [InlineData("7k/8/8/p7/1P6/8/8/7K w - - 0 1", 2, 22)]
    [InlineData("7k/8/8/p7/1P6/8/8/7K w - - 0 1", 3, 139)]
    [InlineData("7k/8/8/p7/1P6/8/8/7K w - - 0 1", 4, 877)]
    [InlineData("7k/8/8/p7/1P6/8/8/7K w - - 0 1", 5, 6112)]
    [InlineData("7k/8/8/p7/1P6/8/8/7K w - - 0 1", 6, 41874)]
    [InlineData("7k/8/p7/8/8/1P6/8/7K w - - 0 1", 1, 4)]
    [InlineData("7k/8/p7/8/8/1P6/8/7K w - - 0 1", 2, 16)]
    [InlineData("7k/8/p7/8/8/1P6/8/7K w - - 0 1", 3, 101)]
    [InlineData("7k/8/p7/8/8/1P6/8/7K w - - 0 1", 4, 637)]
    [InlineData("7k/8/p7/8/8/1P6/8/7K w - - 0 1", 5, 4354)]
    [InlineData("7k/8/p7/8/8/1P6/8/7K w - - 0 1", 6, 29679)]
    [InlineData("7k/8/8/1p6/P7/8/8/7K w - - 0 1", 1, 5)]
    [InlineData("7k/8/8/1p6/P7/8/8/7K w - - 0 1", 2, 22)]
    [InlineData("7k/8/8/1p6/P7/8/8/7K w - - 0 1", 3, 139)]
    [InlineData("7k/8/8/1p6/P7/8/8/7K w - - 0 1", 4, 877)]
    [InlineData("7k/8/8/1p6/P7/8/8/7K w - - 0 1", 5, 6112)]
    [InlineData("7k/8/8/1p6/P7/8/8/7K w - - 0 1", 6, 41874)]
    [InlineData("7k/8/1p6/8/8/P7/8/7K w - - 0 1", 1, 4)]
    [InlineData("7k/8/1p6/8/8/P7/8/7K w - - 0 1", 2, 16)]
    [InlineData("7k/8/1p6/8/8/P7/8/7K w - - 0 1", 3, 101)]
    [InlineData("7k/8/1p6/8/8/P7/8/7K w - - 0 1", 4, 637)]
    [InlineData("7k/8/1p6/8/8/P7/8/7K w - - 0 1", 5, 4354)]
    [InlineData("7k/8/1p6/8/8/P7/8/7K w - - 0 1", 6, 29679)]
    [InlineData("k7/7p/8/8/8/8/6P1/K7 w - - 0 1", 1, 5)]
    [InlineData("k7/7p/8/8/8/8/6P1/K7 w - - 0 1", 2, 25)]
    [InlineData("k7/7p/8/8/8/8/6P1/K7 w - - 0 1", 3, 161)]
    [InlineData("k7/7p/8/8/8/8/6P1/K7 w - - 0 1", 4, 1035)]
    [InlineData("k7/7p/8/8/8/8/6P1/K7 w - - 0 1", 5, 7574)]
    [InlineData("k7/7p/8/8/8/8/6P1/K7 w - - 0 1", 6, 55338)]
    [InlineData("k7/6p1/8/8/8/8/7P/K7 w - - 0 1", 1, 5)]
    [InlineData("k7/6p1/8/8/8/8/7P/K7 w - - 0 1", 2, 25)]
    [InlineData("k7/6p1/8/8/8/8/7P/K7 w - - 0 1", 3, 161)]
    [InlineData("k7/6p1/8/8/8/8/7P/K7 w - - 0 1", 4, 1035)]
    [InlineData("k7/6p1/8/8/8/8/7P/K7 w - - 0 1", 5, 7574)]
    [InlineData("k7/6p1/8/8/8/8/7P/K7 w - - 0 1", 6, 55338)]
    [InlineData("3k4/3pp3/8/8/8/8/3PP3/3K4 w - - 0 1", 1, 7)]
    [InlineData("3k4/3pp3/8/8/8/8/3PP3/3K4 w - - 0 1", 2, 49)]
    [InlineData("3k4/3pp3/8/8/8/8/3PP3/3K4 w - - 0 1", 3, 378)]
    [InlineData("3k4/3pp3/8/8/8/8/3PP3/3K4 w - - 0 1", 4, 2902)]
    [InlineData("3k4/3pp3/8/8/8/8/3PP3/3K4 w - - 0 1", 5, 24122)]
    [InlineData("3k4/3pp3/8/8/8/8/3PP3/3K4 w - - 0 1", 6, 199002)]
    [InlineData("7k/8/8/p7/1P6/8/8/7K b - - 0 1", 1, 5)]
    [InlineData("7k/8/8/p7/1P6/8/8/7K b - - 0 1", 2, 22)]
    [InlineData("7k/8/8/p7/1P6/8/8/7K b - - 0 1", 3, 139)]
    [InlineData("7k/8/8/p7/1P6/8/8/7K b - - 0 1", 4, 877)]
    [InlineData("7k/8/8/p7/1P6/8/8/7K b - - 0 1", 5, 6112)]
    [InlineData("7k/8/8/p7/1P6/8/8/7K b - - 0 1", 6, 41874)]
    [InlineData("7k/8/p7/8/8/1P6/8/7K b - - 0 1", 1, 4)]
    [InlineData("7k/8/p7/8/8/1P6/8/7K b - - 0 1", 2, 16)]
    [InlineData("7k/8/p7/8/8/1P6/8/7K b - - 0 1", 3, 101)]
    [InlineData("7k/8/p7/8/8/1P6/8/7K b - - 0 1", 4, 637)]
    [InlineData("7k/8/p7/8/8/1P6/8/7K b - - 0 1", 5, 4354)]
    [InlineData("7k/8/p7/8/8/1P6/8/7K b - - 0 1", 6, 29679)]
    [InlineData("7k/8/8/1p6/P7/8/8/7K b - - 0 1", 1, 5)]
    [InlineData("7k/8/8/1p6/P7/8/8/7K b - - 0 1", 2, 22)]
    [InlineData("7k/8/8/1p6/P7/8/8/7K b - - 0 1", 3, 139)]
    [InlineData("7k/8/8/1p6/P7/8/8/7K b - - 0 1", 4, 877)]
    [InlineData("7k/8/8/1p6/P7/8/8/7K b - - 0 1", 5, 6112)]
    [InlineData("7k/8/8/1p6/P7/8/8/7K b - - 0 1", 6, 41874)]
    [InlineData("7k/8/1p6/8/8/P7/8/7K b - - 0 1", 1, 4)]
    [InlineData("7k/8/1p6/8/8/P7/8/7K b - - 0 1", 2, 16)]
    [InlineData("7k/8/1p6/8/8/P7/8/7K b - - 0 1", 3, 101)]
    [InlineData("7k/8/1p6/8/8/P7/8/7K b - - 0 1", 4, 637)]
    [InlineData("7k/8/1p6/8/8/P7/8/7K b - - 0 1", 5, 4354)]
    [InlineData("7k/8/1p6/8/8/P7/8/7K b - - 0 1", 6, 29679)]
    [InlineData("k7/7p/8/8/8/8/6P1/K7 b - - 0 1", 1, 5)]
    [InlineData("k7/7p/8/8/8/8/6P1/K7 b - - 0 1", 2, 25)]
    [InlineData("k7/7p/8/8/8/8/6P1/K7 b - - 0 1", 3, 161)]
    [InlineData("k7/7p/8/8/8/8/6P1/K7 b - - 0 1", 4, 1035)]
    [InlineData("k7/7p/8/8/8/8/6P1/K7 b - - 0 1", 5, 7574)]
    [InlineData("k7/7p/8/8/8/8/6P1/K7 b - - 0 1", 6, 55338)]
    [InlineData("k7/6p1/8/8/8/8/7P/K7 b - - 0 1", 1, 5)]
    [InlineData("k7/6p1/8/8/8/8/7P/K7 b - - 0 1", 2, 25)]
    [InlineData("k7/6p1/8/8/8/8/7P/K7 b - - 0 1", 3, 161)]
    [InlineData("k7/6p1/8/8/8/8/7P/K7 b - - 0 1", 4, 1035)]
    [InlineData("k7/6p1/8/8/8/8/7P/K7 b - - 0 1", 5, 7574)]
    [InlineData("k7/6p1/8/8/8/8/7P/K7 b - - 0 1", 6, 55338)]
    [InlineData("3k4/3pp3/8/8/8/8/3PP3/3K4 b - - 0 1", 1, 7)]
    [InlineData("3k4/3pp3/8/8/8/8/3PP3/3K4 b - - 0 1", 2, 49)]
    [InlineData("3k4/3pp3/8/8/8/8/3PP3/3K4 b - - 0 1", 3, 378)]
    [InlineData("3k4/3pp3/8/8/8/8/3PP3/3K4 b - - 0 1", 4, 2902)]
    [InlineData("3k4/3pp3/8/8/8/8/3PP3/3K4 b - - 0 1", 5, 24122)]
    [InlineData("3k4/3pp3/8/8/8/8/3PP3/3K4 b - - 0 1", 6, 199002)]
    [InlineData("8/Pk6/8/8/8/8/6Kp/8 w - - 0 1", 1, 11)]
    [InlineData("8/Pk6/8/8/8/8/6Kp/8 w - - 0 1", 2, 97)]
    [InlineData("8/Pk6/8/8/8/8/6Kp/8 w - - 0 1", 3, 887)]
    [InlineData("8/Pk6/8/8/8/8/6Kp/8 w - - 0 1", 4, 8048)]
    [InlineData("8/Pk6/8/8/8/8/6Kp/8 w - - 0 1", 5, 90606)]
    [InlineData("8/Pk6/8/8/8/8/6Kp/8 w - - 0 1", 6, 1030499)]
    [InlineData("n1n5/1Pk5/8/8/8/8/5Kp1/5N1N w - - 0 1", 1, 24)]
    [InlineData("n1n5/1Pk5/8/8/8/8/5Kp1/5N1N w - - 0 1", 2, 421)]
    [InlineData("n1n5/1Pk5/8/8/8/8/5Kp1/5N1N w - - 0 1", 3, 7421)]
    [InlineData("n1n5/1Pk5/8/8/8/8/5Kp1/5N1N w - - 0 1", 4, 124608)]
    [InlineData("n1n5/1Pk5/8/8/8/8/5Kp1/5N1N w - - 0 1", 5, 2193768)]
    [InlineData("n1n5/1Pk5/8/8/8/8/5Kp1/5N1N w - - 0 1", 6, 37665329)]
    [InlineData("8/PPPk4/8/8/8/8/4Kppp/8 w - - 0 1", 1, 18)]
    [InlineData("8/PPPk4/8/8/8/8/4Kppp/8 w - - 0 1", 2, 270)]
    [InlineData("8/PPPk4/8/8/8/8/4Kppp/8 w - - 0 1", 3, 4699)]
    [InlineData("8/PPPk4/8/8/8/8/4Kppp/8 w - - 0 1", 4, 79355)]
    [InlineData("8/PPPk4/8/8/8/8/4Kppp/8 w - - 0 1", 5, 1533145)]
    [InlineData("8/PPPk4/8/8/8/8/4Kppp/8 w - - 0 1", 6, 28859283)]
    [InlineData("n1n5/PPPk4/8/8/8/8/4Kppp/5N1N w - - 0 1", 1, 24)]
    [InlineData("n1n5/PPPk4/8/8/8/8/4Kppp/5N1N w - - 0 1", 2, 496)]
    [InlineData("n1n5/PPPk4/8/8/8/8/4Kppp/5N1N w - - 0 1", 3, 9483)]
    [InlineData("n1n5/PPPk4/8/8/8/8/4Kppp/5N1N w - - 0 1", 4, 182838)]
    [InlineData("n1n5/PPPk4/8/8/8/8/4Kppp/5N1N w - - 0 1", 5, 3605103)]
    [InlineData("n1n5/PPPk4/8/8/8/8/4Kppp/5N1N w - - 0 1", 6, 71179139)]
    [InlineData("8/Pk6/8/8/8/8/6Kp/8 b - - 0 1", 1, 11)]
    [InlineData("8/Pk6/8/8/8/8/6Kp/8 b - - 0 1", 2, 97)]
    [InlineData("8/Pk6/8/8/8/8/6Kp/8 b - - 0 1", 3, 887)]
    [InlineData("8/Pk6/8/8/8/8/6Kp/8 b - - 0 1", 4, 8048)]
    [InlineData("8/Pk6/8/8/8/8/6Kp/8 b - - 0 1", 5, 90606)]
    [InlineData("8/Pk6/8/8/8/8/6Kp/8 b - - 0 1", 6, 1030499)]
    [InlineData("n1n5/1Pk5/8/8/8/8/5Kp1/5N1N b - - 0 1", 1, 24)]
    [InlineData("n1n5/1Pk5/8/8/8/8/5Kp1/5N1N b - - 0 1", 2, 421)]
    [InlineData("n1n5/1Pk5/8/8/8/8/5Kp1/5N1N b - - 0 1", 3, 7421)]
    [InlineData("n1n5/1Pk5/8/8/8/8/5Kp1/5N1N b - - 0 1", 4, 124608)]
    [InlineData("n1n5/1Pk5/8/8/8/8/5Kp1/5N1N b - - 0 1", 5, 2193768)]
    [InlineData("n1n5/1Pk5/8/8/8/8/5Kp1/5N1N b - - 0 1", 6, 37665329)]
    [InlineData("8/PPPk4/8/8/8/8/4Kppp/8 b - - 0 1", 1, 18)]
    [InlineData("8/PPPk4/8/8/8/8/4Kppp/8 b - - 0 1", 2, 270)]
    [InlineData("8/PPPk4/8/8/8/8/4Kppp/8 b - - 0 1", 3, 4699)]
    [InlineData("8/PPPk4/8/8/8/8/4Kppp/8 b - - 0 1", 4, 79355)]
    [InlineData("8/PPPk4/8/8/8/8/4Kppp/8 b - - 0 1", 5, 1533145)]
    [InlineData("8/PPPk4/8/8/8/8/4Kppp/8 b - - 0 1", 6, 28859283)]
    [InlineData("n1n5/PPPk4/8/8/8/8/4Kppp/5N1N b - - 0 1", 1, 24)]
    [InlineData("n1n5/PPPk4/8/8/8/8/4Kppp/5N1N b - - 0 1", 2, 496)]
    [InlineData("n1n5/PPPk4/8/8/8/8/4Kppp/5N1N b - - 0 1", 3, 9483)]
    [InlineData("n1n5/PPPk4/8/8/8/8/4Kppp/5N1N b - - 0 1", 4, 182838)]
    [InlineData("n1n5/PPPk4/8/8/8/8/4Kppp/5N1N b - - 0 1", 5, 3605103)]
    [InlineData("n1n5/PPPk4/8/8/8/8/4Kppp/5N1N b - - 0 1", 6, 71179139)]
    [InlineData("r3k2r/p1ppqpb1/bn2pnp1/3PN3/1p2P3/2N2Q1p/PPPBBPPP/R3K2R w KQkq -", 1, 48)]
    [InlineData("r3k2r/p1ppqpb1/bn2pnp1/3PN3/1p2P3/2N2Q1p/PPPBBPPP/R3K2R w KQkq -", 2, 2039)]
    // https://www.chessprogramming.org/Perft_Results#Position_2
    [InlineData("r3k2r/p1ppqpb1/bn2pnp1/3PN3/1p2P3/2N2Q1p/PPPBBPPP/R3K2R w KQkq - ", 1, 48)]
    [InlineData("r3k2r/p1ppqpb1/bn2pnp1/3PN3/1p2P3/2N2Q1p/PPPBBPPP/R3K2R w KQkq - ", 2, 2039)]
    [InlineData("r3k2r/p1ppqpb1/bn2pnp1/3PN3/1p2P3/2N2Q1p/PPPBBPPP/R3K2R w KQkq - ", 3, 97862)]
    [InlineData("r3k2r/p1ppqpb1/bn2pnp1/3PN3/1p2P3/2N2Q1p/PPPBBPPP/R3K2R w KQkq - ", 4, 4085603)]
    [InlineData("r3k2r/p1ppqpb1/bn2pnp1/3PN3/1p2P3/2N2Q1p/PPPBBPPP/R3K2R w KQkq - ", 5, 193690690)]
    [InlineData("r3k2r/p1ppqpb1/bn2pnp1/3PN3/1p2P3/2N2Q1p/PPPBBPPP/R3K2R w KQkq - ", 6, 8031647685)]
    // https://www.chessprogramming.org/Perft_Results#Position_3
    [InlineData("8/2p5/3p4/KP5r/1R3p1k/8/4P1P1/8 w - - ", 1, 14)]
    [InlineData("8/2p5/3p4/KP5r/1R3p1k/8/4P1P1/8 w - - ", 2, 191)]
    [InlineData("8/2p5/3p4/KP5r/1R3p1k/8/4P1P1/8 w - - ", 3, 2812)]
    [InlineData("8/2p5/3p4/KP5r/1R3p1k/8/4P1P1/8 w - - ", 4, 43238)]
    [InlineData("8/2p5/3p4/KP5r/1R3p1k/8/4P1P1/8 w - - ", 5, 674624)]
    [InlineData("8/2p5/3p4/KP5r/1R3p1k/8/4P1P1/8 w - - ", 6, 11030083)]
    // https://www.chessprogramming.org/Perft_Results#Position_4
    [InlineData("r3k2r/Pppp1ppp/1b3nbN/nP6/BBP1P3/q4N2/Pp1P2PP/R2Q1RK1 w kq - 0 1", 1, 6)]
    [InlineData("r3k2r/Pppp1ppp/1b3nbN/nP6/BBP1P3/q4N2/Pp1P2PP/R2Q1RK1 w kq - 0 1", 2, 264)]
    [InlineData("r3k2r/Pppp1ppp/1b3nbN/nP6/BBP1P3/q4N2/Pp1P2PP/R2Q1RK1 w kq - 0 1", 3, 9467)]
    [InlineData("r3k2r/Pppp1ppp/1b3nbN/nP6/BBP1P3/q4N2/Pp1P2PP/R2Q1RK1 w kq - 0 1", 4, 422333)]
    [InlineData("r3k2r/Pppp1ppp/1b3nbN/nP6/BBP1P3/q4N2/Pp1P2PP/R2Q1RK1 w kq - 0 1", 5, 15833292)]
    [InlineData("r3k2r/Pppp1ppp/1b3nbN/nP6/BBP1P3/q4N2/Pp1P2PP/R2Q1RK1 w kq - 0 1", 6, 706045033)]
    [InlineData("r2q1rk1/pP1p2pp/Q4n2/bbp1p3/Np6/1B3NBn/pPPP1PPP/R3K2R b KQ - 0 1", 1, 6)]
    [InlineData("r2q1rk1/pP1p2pp/Q4n2/bbp1p3/Np6/1B3NBn/pPPP1PPP/R3K2R b KQ - 0 1", 2, 264)]
    [InlineData("r2q1rk1/pP1p2pp/Q4n2/bbp1p3/Np6/1B3NBn/pPPP1PPP/R3K2R b KQ - 0 1", 3, 9467)]
    [InlineData("r2q1rk1/pP1p2pp/Q4n2/bbp1p3/Np6/1B3NBn/pPPP1PPP/R3K2R b KQ - 0 1", 4, 422333)]
    [InlineData("r2q1rk1/pP1p2pp/Q4n2/bbp1p3/Np6/1B3NBn/pPPP1PPP/R3K2R b KQ - 0 1", 5, 15833292)]
    [InlineData("r2q1rk1/pP1p2pp/Q4n2/bbp1p3/Np6/1B3NBn/pPPP1PPP/R3K2R b KQ - 0 1", 6, 706045033)]
    // https://www.chessprogramming.org/Perft_Results#Position_5
    [InlineData("rnbq1k1r/pp1Pbppp/2p5/8/2B5/8/PPP1NnPP/RNBQK2R w KQ - 1 8", 1, 44)]
    [InlineData("rnbq1k1r/pp1Pbppp/2p5/8/2B5/8/PPP1NnPP/RNBQK2R w KQ - 1 8", 2, 1486)]
    [InlineData("rnbq1k1r/pp1Pbppp/2p5/8/2B5/8/PPP1NnPP/RNBQK2R w KQ - 1 8", 3, 62379)]
    [InlineData("rnbq1k1r/pp1Pbppp/2p5/8/2B5/8/PPP1NnPP/RNBQK2R w KQ - 1 8", 4, 2103487)]
    [InlineData("rnbq1k1r/pp1Pbppp/2p5/8/2B5/8/PPP1NnPP/RNBQK2R w KQ - 1 8", 5, 89941194)]
    // https://www.chessprogramming.org/Perft_Results#Position_6
    [InlineData("r4rk1/1pp1qppp/p1np1n2/2b1p1B1/2B1P1b1/P1NP1N2/1PP1QPPP/R4RK1 w - - 0 10", 1, 46)]
    [InlineData("r4rk1/1pp1qppp/p1np1n2/2b1p1B1/2B1P1b1/P1NP1N2/1PP1QPPP/R4RK1 w - - 0 10", 2, 2079)]
    [InlineData("r4rk1/1pp1qppp/p1np1n2/2b1p1B1/2B1P1b1/P1NP1N2/1PP1QPPP/R4RK1 w - - 0 10", 3, 89890)]
    [InlineData("r4rk1/1pp1qppp/p1np1n2/2b1p1B1/2B1P1b1/P1NP1N2/1PP1QPPP/R4RK1 w - - 0 10", 4, 3894594)]
    [InlineData("r4rk1/1pp1qppp/p1np1n2/2b1p1B1/2B1P1b1/P1NP1N2/1PP1QPPP/R4RK1 w - - 0 10", 5, 164075551)]
    [InlineData("r4rk1/1pp1qppp/p1np1n2/2b1p1B1/2B1P1b1/P1NP1N2/1PP1QPPP/R4RK1 w - - 0 10", 6, 6923051137)]
    public void CheckFromFen(string fen, int depth, long expectedNodes)
    {
        if (depth > 5)
            return;

        // Arrange
        var board = BoardBuilder.FromFen(fen);
        // _testOutputHelper.WriteLine(board.ToString());

        // Act
        var nodes = GetNodeCount(board, depth);

        // Assert
        Assert.Equal(expectedNodes, nodes);
    }

    private long GetNodeCount(Board board, int depth)
    {
        if (depth == 0)
        {
            // _testOutputHelper.WriteLine(board.ToString());
            return 1;
        }

        var moves = board.GetLegalMoves();
        long nodes = 0;
        foreach(var move in moves)
        {
            board.MakeMove(move);
            nodes += GetNodeCount(board, depth - 1);
            board.UndoLastMove();
        }

        return nodes;
    }
}
